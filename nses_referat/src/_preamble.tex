\documentclass[12pt,a4paper,oneside]{article}
\author{Tomáš Lebeda}

% \usepackage{lmodern} % smooth font with accents like ěščřéíáý
\usepackage{csquotes} % czech styled quotes 
\usepackage[czech]{babel} % czech babel 
\usepackage{mathtools} % math magic
\usepackage{amssymb} % some funky math symbols like \trinangleq
\AtBeginDocument{\shorthandoff{-}} % czech babel does some black magic with dashes and it breaks other packages, this should disable it
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry} % set smaller page borders 
\usepackage[indent=0pt]{parskip} % spaces between paragraphs, indents sets indent of the first line in paragraph
\usepackage{hyperref}
\usepackage{pdflscape}
\usepackage{enumitem}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{fontspec}
\usepackage[warnings-off={mathtools-colon,mathtools-overbracket}]{unicode-math}
\usepackage{fancyvrb}
\usepackage{xcolor}
\usepackage{listings}
\setmainfont[
	Extension=.otf,
	UprightFont={*-Regular},
	BoldFont={*-Bold},
	ItalicFont={*-Italic},
	BoldItalicFont={*-BoldItalic},
	% RawFeature={+zero}
]{LibertinusSerif}
\setmathfont{LibertinusMath-Regular.otf}

\setmonofont{IosevkaCustomOriginal}[
	Extension=.ttf,
	Scale=MatchLowercase,
	Path=./src/fonts/,
	UprightFont={*NerdFontComplete},
	BoldFont={*BoldNerdFontComplete},
	ItalicFont = {*ItalicNerdFontComplete},
	BoldItalicFont = {*BoldItalicNerdFontComplete},
]

\usepackage{tcolorbox} % pretty colored boxes
\tcbuselibrary{breakable} % make the colored boxes breakable across pages
\tcbuselibrary{skins} % make the color box breaks nicer 

\usepackage{tikz} % pretty pictures with magic code
\usetikzlibrary{arrows.meta} % for the pretty arrowhead {Stealth[scale=1.0]}
\usetikzlibrary{shapes.geometric} % for ellipses and other shapes for nodes 
\usetikzlibrary{calc}

\usepackage{pgfplots}
\usepgfplotslibrary{external}
\tikzset{external/system call={lualatex \tikzexternalcheckshellescape -halt-on-error -interaction=batchmode -jobname "\image" "\texsource"}}
\tikzexternalize[prefix=tikz/]
\pgfplotsset{compat=1.18}
\pgfplotsset{table/search path={src}} % so autocomplete can suggest the files 
\pgfplotsset{
	every tick label/.append style={
			font=\scriptsize
		},
	every axis label/.append style={
			font=\scriptsize
		},
	every axis legend/.append style={
			font=\scriptsize,
			legend cell align = left,
		},
	every legend image post/.append style = {
			line width=2pt
		},
	every axis/.append style = {
			grid = both,
			enlarge x limits = {0.02, auto}
		}
}

\renewcommand{\baselinestretch}{1.3} % set the line spacing to 1.5
\clubpenalty=10000 % remove clubs
\widowpenalty=10000 % remove widows

\newcommand{\BrC}[1]{\left\lbrace #1 \right\rbrace}
\newcommand{\BrS}[1]{\left[ #1 \right]}
\newcommand{\Br}[1]{\left( #1 \right)}
\newcommand{\Abs}[1]{\left\vert #1 \right\vert}
\newcommand{\Norm}[1]{\left\| #1 \right\|}
\newcommand{\E}[1]{\text{E}\left[ #1 \right]}
\newcommand{\var}[1]{\text{var}\left[ #1 \right]}
\newcommand{\cov}[1]{\text{cov}\left[ #1 \right]}
\newcommand{\parfrac}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\musteq}{\stackrel{!}{=}}
\newcommand{\To}{\Rightarrow}
\newcommand{\TO}{\Rightarrow}

\newcounter{example}[section]
\newenvironment{example}
{
	\stepcounter{example}
	\begin{tcolorbox}
		[
			enhanced jigsaw,
			breakable,
			parbox=false,
			title=Příklad \arabic{chapter}.\arabic{section}.\arabic{example},
			colback=white,
			colframe=blue!20!white,
			fonttitle=\bfseries,
			coltitle=black]
		}
		{
	\end{tcolorbox}
}

\newenvironment{definition}[1]
{
	\begin{tcolorbox}
		[
			parbox=false,
			title={\textit{Definice}: #1},
			colback=red!3!white,
			colframe=red!20!white,
			fonttitle=\bfseries,
			coltitle=black]
		}
		{
	\end{tcolorbox}
}

\let\verbatim\Verbatim
\let\endverbatim\endVerbatim
